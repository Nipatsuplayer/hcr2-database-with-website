<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://cdnjs.buymeacoffee.com" crossorigin>
    <link rel="dns-prefetch" href="https://api.github.com">
    <link rel="dns-prefetch" href="https://cdnjs.buymeacoffee.com">
    <link rel="preload" as="image" href="img/image.png" type="image/png">
    <link rel="preload" as="image" href="img/image copy.png" type="image/png">
    <link rel="stylesheet" href="css/style.css">
    <style>
        * { box-sizing: border-box; }
        html, body { margin: 0; padding: 0; width: 100%; max-width: 100%; overflow-x: hidden; }
        body { font-family: Arial, sans-serif; background-color: #f4f4f9; color: #333; min-height: 100vh; display: flex; flex-direction: column; }
        header { width: 100%; background: linear-gradient(90deg, #007bff, #0056b3); color: #fff; position: relative; }
        .header-inner { max-width: 1200px; margin: 0 auto; padding: 14px 16px; display: flex; align-items: center; gap: 16px; }
        .branding { display: flex; align-items: center; gap: 12px; }
        .branding img { height: 56px; width: auto; }
        .branding h1 { margin: 0; font-size: 24px; line-height: 1.2; }
        main { flex: 1; max-width: 1200px; margin: 0 auto; width: 100%; padding: 0 16px; }
        footer { background-color: #e8e8e8; text-align: center; padding: 20px 16px; border-top: 1px solid #ccc; }
    </style>
    <title>HCR2 Database</title>
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="manifest" href="img/site.webmanifest">

</head>
<body>
    <header>
        <div class="header-inner">
            <div class="branding">
                <img src="img/image.png" alt="HCR2 Logo" id="logo" loading="eager" decoding="async">
                <div>
                    <h1>Hill Climb Racing 2 Adventure Records</h1>
                    <div style="font-size:16px; opacity:0.9;">Community world records & stats</div>
                </div>
            </div>

            <!-- Mobile menu toggle button (visible on small screens) -->
            <button id="mobile-menu-btn" class="mobile-menu-btn" aria-expanded="false" aria-controls="mobile-menu" onclick="toggleMobileMenu()">
                <span class="sr-only">Open menu</span>
                ‚ò∞
            </button>

            <!-- header-right is now the togglable mobile menu -->
            <nav id="mobile-menu" class="header-right" aria-hidden="true">
                <div class="header-buttons" aria-hidden="false">
                    <button onclick="fetchData('maps')">Get Maps</button>
                    <button onclick="fetchData('vehicles')">Get Vehicles</button>
                    <button onclick="fetchData('players')">Get Players</button>
                    <button onclick="fetchData('records')">Get Records</button>
                    <button onclick="fetchStats()">Stats</button>
                    <button onclick="togglePublicSubmitForm()">Submit Record</button>
                    <button onclick="toggleNewsModal()">News</button>

                    <button id="login-btn" class="discord-btn" onclick="location.href='auth/discord_login.php'">
                        <img class="discord-logo" src="img/Discord-Symbol-Blurple.png" alt="Discord">
                        <span>Sign in with Discord</span>
                    </button>

                    <button id="admin-btn" style="display:none;">Admin</button>
                    <button id="logout-btn" onclick="location.href='auth/logout.php'" style="display:none;">Logout</button>
                </div>
            </nav>
        </div>

        <div id="auth-warning" style="color:orange; padding:8px 0; text-align:center;"></div>
    </header>

    <main>
        <div id="stats-container"></div>
        <div id="data-container"></div>
    
        <div class="about-section" id="about-section">

            <img src="img/image copy.png" alt="Info Icon" style="height: 200px; vertical-align: middle; margin-bottom: 10px;" loading="lazy" decoding="async">

            <h2>About Hill Climb Racing 2 Records ‚ÑπÔ∏è</h2>
            <p id="about-text" style="max-width: 800px; margin: 0 auto; font-size: 16px; line-height: 1.5;">
                Welcome to the Hill Climb Racing 2 Adventure Records page ! Here, players from around the world can view the best distance records achieved in various maps using different vehicles. Our goal is to create a comprehensive leaderboard that showcases the skills and achievements of the HCR2 community, which includes every record from leaderboards as well as challenge runs.
            </p>
            <h2>Record Guidelines üìù</h2>
            <p id="rules-text">
                <ul style="list-style-type: disc; padding-left: 20px; line-height: 1.5; max-width: 800px; margin: 0 auto; font-size: 16px;">
                    <li>We will be including records from the official Adventure leaderboards, but runs from Adventure challenges will also be accepted.</li>
                    <li>No records using patched glitches or vehicles before nerfs (eg : Eco-Thrust Bug Moonlander, Pre-nerf Minibus) will be added here, for the sake of consistency.</li>
                    <li>Obviously, no records using respawns will be added, as they offer an unfair advantage.</li>
                    <li>In case of a tie, the first player to achieve the record distance will be considered the World Record Holder.</li>
                    <li>Admins will review all submissions and may remove records if they are found to be invalid or in violation of these rules.</li>
                </ul>
            </p>
            <h2>Viewing Records üèÜ</h2>
            <p id="viewing-text" style="max-width: 800px; margin: 0 auto; font-size: 16px; line-height: 1.5;">
                To view records, go to  the "Get Records" section. The records will be displayed in a table format, showing the map name, vehicle name, player name, and the distance achieved. Select a map / vehicle of your choice from the dropdown menus to filter the records by map and / or vehicle, or type in a specific player name to search for their records. You can also sort the records by distance to see the highest or lowest records first.
            </p>
            <h2>Submitting Records ‚úçÔ∏è</h2>
            <p id="viewing-text-2" style="max-width: 800px; margin: 0 auto; font-size: 16px; line-height: 1.5;">
                To submit a record, click on the "Submit Record" button. Fill out the form with the required information, including the map name, vehicle name, distance achieved, player name, and country (optional). Once you submit the form, the record will be sent for admin review. If approved, it will be added to the database and displayed in the records section.
            </p>
            <h2>Statistics üìä</h2>
            <p id="stats-text" style="max-width: 800px; margin: 0 auto; font-size: 16px; line-height: 1.5;">
                Our stats section provides detailed insights into the performance of vehicles, maps, and players in the HCR2 community. You can explore various statistics such as the number of records held by top players, the vehicles with the highest total distance, and the distribution of records across different maps.
            </p>
            <h2>News & Updates üì∞</h2>
            <p id="news-text" style="max-width: 800px; margin: 0 auto; font-size: 16px; line-height: 1.5;">
                Stay informed about the latest news and updates related to this website. Our news section provides information on recent updates, changes to the database, and other relevant announcements.
            </p>
            <h2>Follow Us üì¢</h2>
            <p id="follow-text" style=
            "max-width: 800px; margin: 0 auto; font-size: 16px; line-height: 1.5;">
                <ul>
                    <p class = "social-link"><a rel="noopener noreferrer" href="https://www.youtube.com/@titaniumhcr2" target="_blank">Titanium Gaming HCR2</a></p>
                    <p class = "social-link"><a rel="noopener noreferrer" href="https://www.youtube.com/@nipatsu" target="_blank">Nipatsu HCR2</a></p>
                </ul>
        </div>
        
        <!-- Public submission modal (hidden overlay) -->
        <div id="public-submit-overlay" class="modal-overlay" style="display:none;">
            <div class="modal-panel form-container" role="dialog" aria-modal="true" aria-labelledby="public-submit-title">
                <button class="modal-close" onclick="togglePublicSubmitForm()" aria-label="Close">‚úï</button>
                <h2 id="public-submit-title">Submit a Record (for admin review)</h2>
                <form id="public-submit-form" onsubmit="submitPublicRecord(event)">
                    <label>Map</label>
                    <select id="public-map-select" required></select>
                    <label>Vehicle</label>
                    <select id="public-vehicle-select" required></select>
                    <label>Distance</label>
                    <input type="number" id="public-distance-input" required min="1">
                    <label>Player name</label>
                    <input type="text" id="public-player-name" required>
                    <label>Country (optional)</label>
                    <input type="text" id="public-player-country">
                    <!-- Honeypot field to catch bots (should remain empty) -->
                    <div style="position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;">
                        <label for="hp_email">Leave this field empty</label>
                        <input type="text" id="hp_email" name="hp_email" autocomplete="off" tabindex="-1">
                    </div>
                    <div style="display:flex; gap:8px; margin-top:12px;">
                        <button type="submit">Send Submission</button>
                        <button type="button" onclick="togglePublicSubmitForm()" style="background:#ccc; color:#000;">Cancel</button>
                    </div>
                </form>
                <p id="public-submit-message" style="margin-top:10px;"></p>
            </div>
        </div>
        <!-- News modal -->
        <div id="news-overlay" class="modal-overlay" style="display:none;">
            <div class="modal-panel form-container" role="dialog" aria-modal="true" aria-labelledby="news-title">
                <button class="modal-close" onclick="toggleNewsModal()" aria-label="Close">‚úï</button>
                <h2 id="news-title">Recent News</h2>
                <div id="news-list" style="max-height:60vh; overflow:auto; text-align:left;">
                    <p>Loading news...</p>
                </div>
                <div style="text-align:right; margin-top:12px;"><button onclick="toggleNewsModal()" style="background:#ccc;color:#000;">Close</button></div>
            </div>
        </div>
        <footer id="footer">
            <p id="copyright" style="text-align: center; margin-top: 24px; font-size: 14px; color: #777;">
                &copy; 2025 - Hill Climb Racing 2 Adventure Records - Made by : Titanium Gaming HCR2 / Nipatsu HCR2 - All rights reserved.
            </p>
            <p class="github-meta" style="margin-top:8px; font-size:13px; color:#555;">
                Source code: <a id="github-link" href="https://github.com/Nipatsuplayer/hcr2-database-with-website" target="_blank" rel="noopener noreferrer">GitHub</a>
                &nbsp;‚Äî&nbsp;Version: <span id="github-version">loading...</span>
                &nbsp;‚Äî&nbsp;<a href="privacy.html" id="privacy-link">Privacy Policy</a>
            </p>
        </footer>
    </main>
<script src="js/script.js" defer></script>
<script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="nipatsu" data-color="#FFDD00" data-emoji="üöó"  data-font="Cookie" data-text="Support Us!" data-outline-color="#000000" data-font-color="#000000" data-coffee-color="#ffffff" defer></script>
</body>
</html>